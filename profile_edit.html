<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr Helper</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hubballi&family=Poppins:wght@100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/c87b9239a5.js" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="text-blue-600 body-font bg-yellow-400 font-medium">
        <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center   ">
          <a class="flex title-font font-medium items-center text-blue-900 mb-4 md:mb-0 " href="index.html">
            
              <!-- <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
            </svg> -->
            <span class="ml-3 text-2xl  font-black">Mr. Helper</span>
          </a>
          <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center text-lg align-middle">
            <a class="mr-5 hover:text-blue-900 " href="index.html">Home</a>
            <a class="mr-5 hover:text-blue-900"  href="services.html">Services</a>
            <a class="mr-5 hover:text-blue-900">Book A Service</a>
            <a class="mr-5 hover:text-blue-900" href="about_s.html">About</a>
            
            
              <div class="dropdown">
                <button onclick="myFunction()" class="dropbtn"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="fill-yellow-500">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" />
                </svg></button>
                <div class="space-x-8 drop-shadow-md text-center justify-items-end space-x-10 ">
                  <div id="myDropdown" class="dropdown-content">
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-flex items-center " viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>Profile</a>
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-flex items-center " fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>Settings</a>
                    <a href="#" class="items-start" id="signout_btn"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-flex items-center " fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>Sign Out</a>
                  </div>
                </div>
                
              </div>
          </nav>
          
        </div>
            </a>
            
        
      </header>
      
  
      <!-- Body -->
      <section class="text-gray-600 body-font relative">
        <div class="absolute inset-0 bg-gray-300">
          <!-- <iframe width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0" title="bg" scrolling="no" src="https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Yellow-Desk-Simple-Background-Image.jpg" style="filter: grayscale(1) contrast(1.2) opacity(0.4);"></iframe> -->
          <img width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0"  src="signup.jpg" style="filter: grayscale(1) contrast(1.2) opacity(0.4);"></img>
        </div>
        <div class="container px-5 py-24 mx-auto flex ">
          <div class="lg:w-1/3 md:w-1/2 bg-white rounded-lg p-8 content-center flex flex-col md:ml-auto w-full mt-10 md:mt-0 relative z-10 shadow-md">
            <h2 class="text-gray-900 text-lg mb-1 font-medium title-font">Profile</h2>
            
            <div class="relative mb-4">
              <label for="email" class="leading-7 text-sm text-gray-600">Email</label>
              <input type="email" id="email" name="email" class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div class="relative mb-4">
              <label for="name" class="leading-7 text-sm text-gray-600">Name</label>
              <input type="text" id="uname" name="uname" class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
            </div>
            <div>
              <label for="Phone Number" class="leading-7 text-sm text-gray-600 inline-block align-middle ">Phone Number</label>
              <input id="Phone Number" name="phone"   required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm" placeholder="Phone number" ><span class="formerror"></span>
            </div>
                             
              <div class="relative mb-4 w-10 mr-2 align-middle select-none transition duration-200 ease-in justify-center ">
                  <input type="checkbox" name="toggle" id="toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" onclick="enable_drop(this)"/>
                  <label for="toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
              <label for="toggle" class="text-xs text-gray-700 align-middle">Provide Service?</label>

              </div>
            <!-- This example requires Tailwind CSS v2.0+ -->
            <div class="flex ">
              <div class="mb-3 xl:w-80 ">
                <label for="message" class="leading-7 text-sm text-gray-600 inline-block align-middle ">Select your service</label>

                <select class="form-select appearance-none
                  block
                  w-full
                  px-3
                  py-1.5
                  text-base
                  font-normal
                  text-gray-700
                  bg-white bg-clip-padding bg-no-repeat
                  border border-solid border-gray-300
                  rounded
                  transition
                  ease-in-out
                  m-0
                  focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"  aria-label="Default select example" id="option" disabled="disabled" onchange="getSelectValue()">
                    <option selected>Select</option>
                    <option value="1">Electrician</option>
                    <option value="2">Plumbing</option>
                    <option value="3">Painting</option>
                    <option value="4">Internet Service</option>
                    <option value="5">Pest Control</option>
                    <option value="6">Carpentry</option>
                    <option value="7">Home shifting</option>
                    <option value="8">Cable Operator</option>
                    <option value="9">House Cleaning</option>
                    <option value="10">Home Appliance Repairs</option>


                    
                </select>
              </div>
            </div>

            <div class="relative mb-4">
              <label for="message" class="leading-7 text-sm text-gray-600">Address</label>
              <textarea id="address" name="message" class="w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-32 text-base outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"></textarea>
            </div>
            <button class="text-white bg-yellow-500 border-0 py-2 px-6 focus:outline-none hover:bg-yellow-600 rounded text-lg" id="saveChanges">Save Changes</button>
       
          </div>
        </div>
      </section>

      <!-- Body -->
      <!-- footer -->
    <footer class="text-gray-600 body-font">
        <div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col">
          <a class="flex title-font font-medium items-center md:justify-start justify-center text-gray-900">
            
            <span class="ml-3 text-2xl font-header">Mr. Helper</span>
          </a>
          
          <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start">
            <a class="text-gray-500">
              <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
                <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path>
              </svg>
            </a>
            <a class="ml-3 text-gray-500">
              <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
                <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path>
              </svg>
            </a>
            <a class="ml-3 text-gray-500">
              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
                <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
              </svg>
            </a>
            <a class="ml-3 text-gray-500">
              <svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0" class="w-5 h-5" viewBox="0 0 24 24">
                <path stroke="none" d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path>
                <circle cx="4" cy="4" r="2" stroke="none"></circle>
              </svg>
            </a>
          </span>
        </div>
      </footer>
      <!-- footer -->

    <script src="profile.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
        import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
          apiKey: "AIzaSyCoL1cehAA3itCW98UzuWv8mO-Z6B7DiGE",
          authDomain: "mr-helper-a835a.firebaseapp.com",
          databaseURL: "https://mr-helper-a835a-default-rtdb.firebaseio.com",
          projectId: "mr-helper-a835a",
          storageBucket: "mr-helper-a835a.appspot.com",
          messagingSenderId: "1009784908020",
          appId: "1:1009784908020:web:63244b670f6df5d94d16a1"
        };
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth();


        onAuthStateChanged(auth,(user) => {
        if(!user) {
          const  uid = user.uid;
          window.location = 'register.html';
        }
        else {
          // User is signed out
        // ...
        }
      })

      signout_btn.addEventListener('click',(e) => {

        var signout = document.getElementById('signout_btn').value;

        signOut(auth).then(() => {
        alert("SignOut Successful");
        window.location = 'index.html'
      }).catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;

        alert(errorMessage);
      })


      })


      
      
      saveChanges.addEventListener('click' , (e) => {
        var email = document.getElementById('email').value;
        var uname = document.getElementById('uname').value;
        var address = document.getElementById('address').value;
        var phone_no = document.getElementById('Phone Number').value;
        var selectedValue = document.getElementById("option").value;

        // const newKey = push(child(ref(database), 'users')).key;
        const user = userCredential.user;
        const userId = '9aIf1LG9F0cVbZjAmq6wwXirEsf1';
        update(ref(database, 'users/' + userId), {
            uname: uname,
            email: email,
            address:address,
            phone_no:phone_no
        }).then(() => {
            // Data saved successfully!
            alert('data submitted');
        })
            .catch((error) => {
                // The write failed...
                alert(error);
            });
      })
      
      
        
    </script>
</body>
</html>


